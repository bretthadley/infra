name: 'Terraform Check'

on:
  push:
    branches: [ "main" ]

permissions:
  id-token: write
  contents: read

jobs:
  terragrunt:
    uses: bretthadley/infra/.github/workflows/terragrunt.yml@main
    with:
      environment_name: production
      apply: false
    secrets:
      PROVIDER_NAME: ${{secrets.PROVIDER_NAME}}
      SA_EMAIL: ${{secrets.SA_EMAIL}}